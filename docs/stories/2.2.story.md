# Story 2.2: Skid-Level Visualization UI

## Status
Draft

## Story
**As a** Solar Asset Manager,
**I want** to click on a site and see a comparative view of all its skids,
**so that** I can identify which skids are underperforming.

## Acceptance Criteria
1. From the Site Analysis View, a "View Skids" element is available.
2. Clicking it transitions the UI to a Skid-Level View.
3. The Skid-Level View displays a comparative visualization of all skids.
4. The view clearly highlights underperforming skids.

## Tasks / Subtasks
- [ ] **Frontend**: In the `Site Analysis View` component, make the skid list in the side panel interactive.
- [ ] **Frontend**: Create a new state or component to represent the "Skid-Level View".
- [ ] **Frontend**: Fetch data using the `GET /api/sites/{site_id}/skids` endpoint.
- [ ] **Frontend**: Integrate the charting library to display a comparative visualization.
- [ ] **Frontend**: Implement logic to visually highlight underperforming skids.
- [ ] **Frontend**: Ensure the UI's breadcrumbs and titles update.
- [ ] **Frontend**: Write Jest/RTL unit tests for the new component.

## Dev Notes
The developer must build the UI according to the user flow and wireframes defined in the UI/UX Specification. The primary interaction is clicking on a skid in the side panel of the Site Analysis View.

### API Endpoint to Use
* **`GET /api/sites/{site_id}/skids`**: This endpoint was created in Story 2.1 and provides the necessary aggregated data for all skids on a site.

### UI/UX Guidance
* The UI should transition smoothly from the site-level view to the skid comparison view.
* The main chart area should update to show the new comparative visualization.
* The side panel, which previously listed skids, should now show a summary for the selected site and prepare for the next drill-down level (inverters).
* Breadcrumbs must be updated to show `Portfolio > [Site Name] > Skids`.

## Change Log
| Date | Version | Description | Author |
| :--- | :--- | :--- | :--- |
| 2025-07-29 | 1.0 | Story created | Bob (SM) |

## Dev Agent Record
*This section to be filled out by the Developer Agent during implementation.*

## QA Results
*This section to be filled out by the QA Agent during review.*